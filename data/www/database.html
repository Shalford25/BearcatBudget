<! -- This is the database page -- >
<!DOCTYPE html>
<html>
    <head>
        <title>Database | Bearcat Budget</title>
        <link rel="stylesheet" href="../stylesheets/customerpage.css" type="text/css"/>
        <script src="../javascript/navbar.js"></script>
        <script src="../javascript/tableFunctions.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const username = localStorage.getItem('username');
                const sessionId = localStorage.getItem('sessionId');

                if (!username || !sessionId) {
                    alert('You are not logged in. Redirecting to login page.');
                    window.location.href = 'login.html';
                    return;
                }

                const tabs = document.querySelectorAll('.tab');
                tabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        // Remove active class from all tabs
                        tabs.forEach(t => t.classList.remove('active'));
                        // Add active class to the selected tab
                        tab.classList.add('active');
                        // Fetch and display the corresponding table
                        displayTable(tab.dataset.table);
                    });
                });

                // Load the default tab (Service) on page load
                displayTable('service');
            });

            async function loadNavbar() {
                try {
                    const response = await fetch('navbar.html'); // Ensure the path is correct
                    if (!response.ok) {
                        throw new Error(`Failed to load navbar: ${response.statusText}`);
                    }
                    const navbarHTML = await response.text();
                    document.getElementById('navbar-container').innerHTML = navbarHTML;
                } catch (error) {
                    console.error('Error loading navbar:', error);
                }
            }

            document.addEventListener('DOMContentLoaded', loadNavbar);
        </script>
        <style>
            .tab {
                display: inline-block;
                padding: 10px 20px;
                cursor: pointer;
                background-color: #f0f0f0;
                border: 1px solid #ccc;
                margin-right: 5px;
            }
            .tab.active {
                background-color: #ddd;
                font-weight: bold;
            }
        </style>
    </head>
    <body>
        <h1>Database</h1>
        <div id="navbar-container"></div>
        <!-- Tabs -->
        <div class="tabs">
            <div class="tab active" data-table="service">Service</div>
            <div class="tab" data-table="transaction">Transaction</div>
            <div class="tab" data-table="inventory">Inventory</div>
        </div>

        <!-- Table -->
        <table id="dataTable" border="1">
            <tr>
                <th>Column 1</th>
                <th>Column 2</th>
                <th>Column 3</th>
                <th>Actions</th>
            </tr>
            <!-- Existing rows will be dynamically inserted here -->
        </table>
    </body>
</html>